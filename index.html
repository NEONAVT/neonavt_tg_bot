<script src="https://telegram.org/js/telegram-web-app.js?59"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Установка цветов темы
        document.body.style.backgroundColor = tg.colorScheme === 'dark'
            ? tg.themeParams.bg_color || '#222'
            : tg.themeParams.bg_color || '#fff';
        document.body.style.color = tg.themeParams.text_color || '#000';

        // Получаем элементы
        const clickButton = document.getElementById("click");
        const orderButton = document.getElementById("order");
        const main = document.getElementById("main");
        const form = document.getElementById("form");

        // Проверка, что элементы существуют
        if (!clickButton || !orderButton || !main || !form) {
            console.error("Один или несколько элементов не найдены");
            return;
        }

        // Обработчик для кнопки "ТЫК"
        clickButton.addEventListener("click", () => {
            main.style.display = "none";
            form.style.display = "block";
        });

        // Обработчик для кнопки "Order"
        orderButton.addEventListener("click", () => {
            // Собираем данные
            const name = document.getElementById("user_first_name").value;
            const email = document.getElementById("user_email").value;
            const phone = document.getElementById("user_phone").value;

            // Отправляем данные в Telegram (в примере — просто закрываем с передачей данных)
            tg.sendData(JSON.stringify({ name, email, phone }));

            // Можно закрыть, можно отправить боту, зависит от бэкенда
            tg.close();
        });
    });
</script>